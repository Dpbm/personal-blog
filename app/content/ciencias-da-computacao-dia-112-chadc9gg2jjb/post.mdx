




### Ciências da computação dia 112

Funções MySQL

### Funções de valor simples

-   Retornam um valor

#### ROUND(numero, \[m\])

-   arredonda o numero em m casas;
-   por padrão ele retira a vírgula;
-   arredonda para cima se o valor da próxima casa for \>5.

#### TRUNCATE(numero, m)

-   trunca o numero em um m casas.

#### SQRT(numero)

-   retorna a raiz quadrada do numero








### Funções de grupo de valores

-   retornam 1 linha apenas

#### AVG(n)

-   retorna o valor médio da coluna n;
-   ignora nulos.

#### COUNT(\* \| Expressão)

-   retorna o total de linhas de uma tabela (no caso do \*), ou que uma
    expressão retorna (desconsiderando nulos).

#### MAX(n)

-   retorna o valor máximo de uma coluna n;
-   em uma coluna n, como nome, o comando retorna o ultimo em ordem
    alfabética.

#### MIN(n)

-   retorna o valor mínimo de uma coluna n;
-   em uma coluna n, como nome, o comando retorna o primeiro em ordem
    alfabética.

#### SUM(n)

-   soma todos os valores de uma coluna n.

#### GROUP BY

-   Quando há a necessidade de selecionar outros campos também, você usa
    para juntar os valores;
-   Claramente isso não pode ser usado em todos os casos, mas em casos
    que os dados estão corretos, e a coluna seleciona tem alguma relação
    isso pode ser usado.

``` {code-block-mode="2" spellcheck="false" code-block-lang="sql"}
SELECT id, COUNT(quantidade)
FROM compra
GROUP BY id;
```








### Funções que devolvem caracteres

#### CONCAT(texto1, texto2)

-   retorna texto1 concatenado ao texto2.

#### LOWER(texto)

-   retorna o texto todo em minúsculo.

#### UPPER(texto)

-   retorna o texto todo em maiúsculo.

#### REPLACE(texto, para_ser_substituído, o_que_vai_substituir)

-   retorna o texto com o "para_ser_substituído" substituído pelo
    "o_que_vai_substituir".

#### SUBSTR(texto, m, \[n\])

-   retorna uma substring do texto comando em m e terminando em n;
-   lembrando que m começa em 1 e não 0;
-   por padrão n é o fim do texto.








### Funções que retornam números

#### INSTR(texto1, texto2)

-   retorna a primeira ocorrência do texto2 no texto1.

#### LENGTH(texto)

-   retorna o tamanho do texto.








### Funções de DATA

#### NOW()

-   retorna a data do sistema

#### LAST_DAY(data)

-   retorna o ultimo dia do mês da data.

#### DAY(data)

-   pega o dia da data.

#### YEAR(data)

-   pega o ano da data.

#### MONTH(data)

-   pega o mês da data.

#### DATEDIFF(data1, data2)

-   pega a diferença entre data1 e data2.








### Condições

#### Case

-   maneira de retornar valores específicos em buscas.

``` {code-block-mode="2" spellcheck="false" code-block-lang="sql"}
SELECT CASE idade
  WHEN 7 THEN 'Jovem'
  WHEN 14 THEN 'Adolescente'
  ELSE 'Outro'
END as descricao;
```


