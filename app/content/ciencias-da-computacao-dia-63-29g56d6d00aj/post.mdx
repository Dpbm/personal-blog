




![[Harrison
Broadbent](https://unsplash.com/@harrisonbroadbent)](https://cdn-images-1.medium.com/max/800/0*EbHGCP_jOdFYfQ4I)


do autômato ao circuito

Nas últimas aulas de Sistemas digitais, vimos muito sobre flip-flops e
autômatos, e hoje finalmente saímos desses conceitos para aplicar em um
circuito real. Nesta aula, fizemos uma série de passos para conseguir
transformar um grafo dirigido, em um circuito digital.








### Criação do grafo dirigido

Antes de tudo, precisamos entender quais são os estados do nosso grafo.
No exemplo que mostrarei será feito um grafo dirigido para um contador
BCD.

<figure>
<img src="image_134.png"
alt="uma espécie de circulo com varios número indo de 0 a 9 e repetindo esse ciclo" />
<figcaption><a
href="https://automatonsimulator.com/#%7B%22type%22%3A%22DFA%22%2C%22dfa%22%3A%7B%22transitions%22%3A%7B%22start%22%3A%7B%22S%22%3A%22s0%22%7D%2C%22s0%22%3A%7B%22A%22%3A%22s1%22%7D%2C%22s1%22%3A%7B%22B%22%3A%22s2%22%7D%2C%22s2%22%3A%7B%22C%22%3A%22s3%22%7D%2C%22s3%22%3A%7B%22D%22%3A%22s4%22%7D%2C%22s4%22%3A%7B%22E%22%3A%22s5%22%7D%2C%22s5%22%3A%7B%22F%22%3A%22s6%22%7D%2C%22s6%22%3A%7B%22G%22%3A%22s7%22%7D%2C%22s7%22%3A%7B%22H%22%3A%22s8%22%7D%2C%22s8%22%3A%7B%22I%22%3A%22s9%22%7D%2C%22s9%22%3A%7B%22J%22%3A%22s0%22%7D%7D%2C%22startState%22%3A%22start%22%2C%22acceptStates%22%3A%5B%5D%7D%2C%22states%22%3A%7B%22start%22%3A%7B%7D%2C%22s0%22%3A%7B%22top%22%3A295.99998474121094%2C%22left%22%3A197%2C%22displayId%22%3A%220%20%280000%29%22%7D%2C%22s1%22%3A%7B%22top%22%3A144%2C%22left%22%3A326%2C%22displayId%22%3A%221%20%280001%29%22%7D%2C%22s2%22%3A%7B%22top%22%3A92%2C%22left%22%3A548%2C%22displayId%22%3A%222%20%280010%29%22%7D%2C%22s3%22%3A%7B%22top%22%3A89%2C%22left%22%3A772%2C%22displayId%22%3A%223%20%280011%29%22%7D%2C%22s4%22%3A%7B%22top%22%3A152%2C%22left%22%3A990%2C%22displayId%22%3A%224%20%280100%29%22%7D%2C%22s5%22%3A%7B%22top%22%3A289.99998474121094%2C%22left%22%3A1076%2C%22displayId%22%3A%225%20%280101%29%22%7D%2C%22s6%22%3A%7B%22top%22%3A448.99998474121094%2C%22left%22%3A880%2C%22displayId%22%3A%226%20%280110%29%22%7D%2C%22s7%22%3A%7B%22top%22%3A487.99998474121094%2C%22left%22%3A656%2C%22displayId%22%3A%227%20%280111%29%22%7D%2C%22s8%22%3A%7B%22top%22%3A448.99998474121094%2C%22left%22%3A477%2C%22displayId%22%3A%228%20%281000%29%22%7D%2C%22s9%22%3A%7B%22top%22%3A398.99998474121094%2C%22left%22%3A281%2C%22displayId%22%3A%229%20%281001%29%22%7D%7D%2C%22transitions%22%3A%5B%7B%22stateA%22%3A%22start%22%2C%22label%22%3A%22S%22%2C%22stateB%22%3A%22s0%22%7D%2C%7B%22stateA%22%3A%22s0%22%2C%22label%22%3A%22A%22%2C%22stateB%22%3A%22s1%22%7D%2C%7B%22stateA%22%3A%22s1%22%2C%22label%22%3A%22B%22%2C%22stateB%22%3A%22s2%22%7D%2C%7B%22stateA%22%3A%22s2%22%2C%22label%22%3A%22C%22%2C%22stateB%22%3A%22s3%22%7D%2C%7B%22stateA%22%3A%22s3%22%2C%22label%22%3A%22D%22%2C%22stateB%22%3A%22s4%22%7D%2C%7B%22stateA%22%3A%22s4%22%2C%22label%22%3A%22E%22%2C%22stateB%22%3A%22s5%22%7D%2C%7B%22stateA%22%3A%22s5%22%2C%22label%22%3A%22F%22%2C%22stateB%22%3A%22s6%22%7D%2C%7B%22stateA%22%3A%22s6%22%2C%22label%22%3A%22G%22%2C%22stateB%22%3A%22s7%22%7D%2C%7B%22stateA%22%3A%22s7%22%2C%22label%22%3A%22H%22%2C%22stateB%22%3A%22s8%22%7D%2C%7B%22stateA%22%3A%22s8%22%2C%22label%22%3A%22I%22%2C%22stateB%22%3A%22s9%22%7D%2C%7B%22stateA%22%3A%22s9%22%2C%22label%22%3A%22J%22%2C%22stateB%22%3A%22s0%22%7D%5D%2C%22bulkTests%22%3A%7B%22accept%22%3A%22%22%2C%22reject%22%3A%22%22%7D%7D">veja
o contador aqui</a></figcaption>
</figure>

Neste autômato mostrado acima, é possível entender que teremos um ciclo.
Contador irá de 0 até 9, e ao chegar no 9 o próximo número será 0,
repetindo todo o ciclo.








### Quantidade de FFs necessários

Como visto na última aula, a quantidade de flip-flops usada em um
circuito vai depender diretamente da quantidade de estados do grafo
(nesse caso 10 estados).

Sendo assim, podemos usar a equação:

log2 QE ≤ n

ou

QE ≤ 2\^n

onde QE é a quantidade de estados e n é a quantidade de flip-flops

colocando tudo na fórmula

temos que 10 ≤ 2\^n

sendo assim a menor número possível para n que satisfaça a inequação é 4
(4 flip-flops necessários)








### Tabela de estímulos

Antes de construirmos uma tabela de estímulos para os flip-flops,
precisamos primeiro saber quais são as saídas dos flip-flops dependendo
de suas entradas.

<figure>
<img src="image_135.png"
alt="tabela com as entradas e saídas do flip-flop JK" />
<figcaption>tabela de saídas do FF-JK</figcaption>
</figure>

A partir dessa tabela podemos montar outra que demonstrará quais são as
entradas necessárias para gerar uma sequência de saídas.

<figure>
<img src="image_136.png"
alt="tabela com as possiveis entradas do flip-flop baseando-se nas saídas" />
<figcaption>tabela de entradas FF-JK</figcaption>
</figure>

Para montar a tabela de entradas, precisamos saber quais são as saídas
que queremos, e olhando na tabela de saídas podemos ter uma ideia de
quais entradas podem gerar essas saídas. Pegando como exemplo as saídas
0 0, para J temos apenas uma opção 0, enquanto para o K podemos usar
tanto o valor 1 como o valor 0, sendo assim colocamos um X no local.

Com essa tabela pronta, podemos finalmente montar a tabela de estímulos.

<figure>
<img src="image_137.png"
alt="tabela de estímulos para o FF-JK contador BCD crescente" />
<figcaption>tabela de estímulos FF-JK</figcaption>
</figure>

Para montar esta tabela de estímulos, primeiro precisamos pegar quais
são os valores em binário (0--9 neste caso) e colocar tudo em sequencia
na coluna com nome Atual. Depois na próxima coluna com o nome de
Próximo, precisamos listar o próximo número, sendo assim na linha do
zero precisamos colocar o valor do número 1, e assim vai, até chegar ao
valor 9 que colocaremos o próximo como sendo o 0 para continuar o ciclo
infinito. Por fim, na coluna de estímulos precisamos colocar em JnKn os
valores referentes da tabela de entradas baseando-se na Qn da coluna
atual e próximo, por exemplo, no J3K3 colocaremos 0 X respectivamente
pois o valor de transição de Q3 atual, 0, para o próximo Q3, 0 também,
na tabela de entradas é 0 e X.








### Montando mapas de Karnaugh

Com a tabela de estímulos pronta devemos criar mapas de Karnaugh para
cada uma das colunas de estímulos (Jn e Kn), neste caso 8 mapas de
Karnaugh.

<figure>
<img src="image_138.png"
alt="template do mapa de karnaugh de quatro variáveis que vamos utilizar" />
<figcaption>template mapa de Karnaugh 4 variáveis</figcaption>
</figure>

> Obs: posições que não estão na tabela de estímulos, como as posições
> de 10 à 15, você coloca o valor X.

<figure>
<img src="image_139.png" alt="mapa de Karnaugh J3" />
<figcaption>J3</figcaption>
</figure>

<figure>
<img src="image_140.png" alt="Mapa de Karnaugh K3" />
<figcaption>K3</figcaption>
</figure>

<figure>
<img src="image_141.png" alt="mapa de Karnaugh J2" />
<figcaption>J2</figcaption>
</figure>

<figure>
<img src="image_142.png" alt="Mapa de Karnaugh K2" />
<figcaption>K2</figcaption>
</figure>

<figure>
<img src="image_143.png" alt="Mapa de Karnaugh J1" />
<figcaption>J1</figcaption>
</figure>

<figure>
<img src="image_144.png" alt="mapa de Karnaugh K1" />
<figcaption>K1</figcaption>
</figure>

<figure>
<img src="image_145.png" alt="Mapa de Karnaugh J0" />
<figcaption>J0</figcaption>
</figure>

<figure>
<img src="image_146.png" alt="Mapa de Karnaugh K0" />
<figcaption>K0</figcaption>
</figure>








### Criando o circuito

Por fim, vamos utilizar algum software para criar o circuito.

<figure>
<img src="image_147.png" alt="circuito montado" />
<figcaption>circuito pronto</figcaption>
</figure>

Repare que neste circuito nossas saídas Q0, Q1, Q2 e Q3 são aquelas
quatro linhas que estão com LLHL, das quais as saídas dos componentes se
interligarão. Repare também que no Q0 temos um elemente com +5v, como
nosso resultado de J0 e K0 foi 1, podemos ligar essas entradas
diretamente na energia, no caso o 5v, também chamado de PULL UP.


